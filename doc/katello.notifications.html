<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>katello.notifications documentation</title></head><body><div id="header"><h1><a href="index.html">Katello.auto 1.0.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li><a href="katello.api-tasks.html"><span>katello.api-tasks</span></a></li><li><a href="katello.changesets.html"><span>katello.changesets</span></a></li><li><a href="katello.client.html"><span>katello.client</span></a></li><li><a href="katello.conf.html"><span>katello.conf</span></a></li><li><a href="katello.environments.html"><span>katello.environments</span></a></li><li><a href="katello.locators.html"><span>katello.locators</span></a></li><li class="current"><a href="katello.notifications.html"><span>katello.notifications</span></a></li><li><a href="katello.organizations.html"><span>katello.organizations</span></a></li><li><a href="katello.providers.html"><span>katello.providers</span></a></li><li><a href="katello.rest.html"><span>katello.rest</span></a></li><li><a href="katello.roles.html"><span>katello.roles</span></a></li><li><a href="katello.setup.html"><span>katello.setup</span></a></li><li><a href="katello.sync-management.html"><span>katello.sync-management</span></a></li><li><a href="katello.systems.html"><span>katello.systems</span></a></li><li><a href="katello.tasks.html"><span>katello.tasks</span></a></li><li><a href="katello.tests.content-search.html"><span>katello.tests.content-search</span></a></li><li><a href="katello.tests.e2e.html"><span>katello.tests.e2e</span></a></li><li><a href="katello.tests.environments.html"><span>katello.tests.environments</span></a></li><li><a href="katello.tests.login.html"><span>katello.tests.login</span></a></li><li><a href="katello.tests.navigation.html"><span>katello.tests.navigation</span></a></li><li><a href="katello.tests.organizations.html"><span>katello.tests.organizations</span></a></li><li><a href="katello.tests.permissions.html"><span>katello.tests.permissions</span></a></li><li><a href="katello.tests.promotions.html"><span>katello.tests.promotions</span></a></li><li><a href="katello.tests.providers.html"><span>katello.tests.providers</span></a></li><li><a href="katello.tests.search.html"><span>katello.tests.search</span></a></li><li><a href="katello.tests.suite.html"><span>katello.tests.suite</span></a></li><li><a href="katello.tests.sync_management.html"><span>katello.tests.sync_management</span></a></li><li><a href="katello.tests.systems.html"><span>katello.tests.systems</span></a></li><li><a href="katello.tests.templates.html"><span>katello.tests.templates</span></a></li><li><a href="katello.tests.users.html"><span>katello.tests.users</span></a></li><li><a href="katello.ui-tasks.html"><span>katello.ui-tasks</span></a></li><li><a href="katello.users.html"><span>katello.users</span></a></li><li><a href="katello.validation.html"><span>katello.validation</span></a></li><li><a href="selenium-server.html"><span>selenium-server</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="katello.notifications.html#var-check-for-error"><span>check-for-error</span></a></li><li><a href="katello.notifications.html#var-check-for-success"><span>check-for-success</span></a></li><li><a href="katello.notifications.html#var-known-errors"><span>known-errors</span></a></li><li><a href="katello.notifications.html#var-matching-errors"><span>matching-errors</span></a></li><li><a href="katello.notifications.html#var-notifications"><span>notifications</span></a></li><li><a href="katello.notifications.html#var-success%3F"><span>success?</span></a></li><li><a href="katello.notifications.html#var-validation-errors"><span>validation-errors</span></a></li><li><a href="katello.notifications.html#var-verify-success"><span>verify-success</span></a></li><li><a href="katello.notifications.html#var-wait-for-notification-gone"><span>wait-for-notification-gone</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>katello.notifications documentation</h2><pre class="doc"></pre><div class="public" id="var-check-for-error"><h3>check-for-error</h3><div class="usage"><code>(check-for-error &amp; [{:keys [timeout-ms], :as m}])</code></div><pre class="doc">Waits for a notification up to the optional timeout (in ms), throws
an exception if error notification appears.</pre></div><div class="public" id="var-check-for-success"><h3>check-for-success</h3><div class="usage"><code>(check-for-success &amp; [{:keys [timeout-ms refresh?], :or {timeout-ms 2000}}])</code></div><pre class="doc">Returns information about a success notification from the UI. Will
wait for a success notification until timeout occurs, collecting
any failure notifications captured in that time. If there are no
notifications or any failure notifications are captured, an
exception is thrown containing information about all captured
notifications (including a success notification if present).
Otherwise return the type and text of the message. Takes an
optional max amount of time to wait, in ms, and whether to refresh
the page periodically while waiting for a notification.</pre></div><div class="public" id="var-known-errors"><h3>known-errors</h3><div class="usage"></div><pre class="doc">A mapping of known errors in Katello. This helps
automation throw and catch the right type of exception interally,
taking UI error messages and mapping them to internal error types.</pre></div><div class="public" id="var-matching-errors"><h3>matching-errors</h3><div class="usage"><code>(matching-errors notifSet)</code></div><pre class="doc">Returns a set of matching known errors
</pre></div><div class="public" id="var-notifications"><h3>notifications</h3><div class="usage"><code>(notifications &amp; [{:keys [timeout-ms], :or {timeout-ms 2000}}])</code></div><pre class="doc">Gets all notifications from the page, returns a list of maps
representing the notifications. Waits for timeout-ms for at least
one notification to appear. Does not do any extra waiting after the
first notification is detected. Clears all the notifications from
the UI. Default timeout is 15 seconds.</pre></div><div class="public" id="var-success%3F"><h3>success?</h3><div class="usage"></div><pre class="doc">Returns true if the given notification is a 'success' type
notification (aka green notification in the UI).</pre></div><div class="public" id="var-validation-errors"><h3>validation-errors</h3><div class="usage"></div><pre class="doc">All the different validation error messages that Katello
can throw. The keys are keywords that can be used to
refer to this type of error, and the values are regexes
that match the error notification message in the UI.</pre></div><div class="public" id="var-verify-success"><h3>verify-success</h3><div class="usage"><code>(verify-success task-fn)</code></div><pre class="doc">Calls task-fn and checks for a success message afterwards. If none
is found, or error notifications appear, throws an exception.</pre></div><div class="public" id="var-wait-for-notification-gone"><h3>wait-for-notification-gone</h3><div class="usage"><code>(wait-for-notification-gone &amp; [max-wait-ms])</code></div><pre class="doc">Waits for a notification to disappear within the timeout period. If no
notification is present, the function returns immediately. The default
timeout is 3 seconds.</pre></div></div></body></html>